<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <svg t="1576745299692" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
  p-id="2656" width="200" height="200">
  <path
    d="M515.2 224C208 224 22.4 537.6 22.4 537.6s214.4 304 492.8 304 492.8-304 492.8-304S822.4 224 515.2 224zM832 652.8c-102.4 86.4-211.2 140.8-320 140.8s-217.6-51.2-320-140.8c-35.2-32-70.4-64-99.2-99.2-6.4-6.4-9.6-12.8-16-19.2 3.2-6.4 9.6-12.8 12.8-19.2 25.6-35.2 57.6-70.4 92.8-102.4 99.2-89.6 208-144 329.6-144s230.4 54.4 329.6 144c35.2 32 64 67.2 92.8 102.4 3.2 6.4 9.6 12.8 12.8 19.2-3.2 6.4-9.6 12.8-16 19.2-28.8 32-60.8 67.2-99.2 99.2z"
    fill="" p-id="2657"></path>
  <path
    d="M512 345.6c-96 0-169.6 76.8-169.6 169.6 0 96 76.8 169.6 169.6 169.6 96 0 169.6-76.8 169.6-169.6S604.8 345.6 512 345.6z m0 294.4c-67.2 0-121.6-54.4-121.6-121.6 0-67.2 54.4-121.6 121.6-121.6 67.2 0 121.6 54.4 121.6 121.6 0 64-54.4 121.6-121.6 121.6z"
    fill="" p-id="2658"></path>
</svg>
  <div id="box">
    <svg t="1579176511762" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2118" width="200" height="200"><path d="M511.150144 342.40644c-92.798523 0-168.08623 75.28873-168.08623 168.084183 0 92.906993 75.28873 168.142511 168.08623 168.142511 92.797499 0 168.08623-75.235518 168.08623-168.142511C679.236374 417.695171 603.94662 342.40644 511.150144 342.40644zM511.150144 622.606097c-61.884442 0-112.057145-50.177819-112.057145-112.115474 0-61.883419 50.173726-112.056122 112.057145-112.056122 61.938678 0 112.057145 50.172703 112.057145 112.056122C623.207289 572.428278 573.088822 622.606097 511.150144 622.606097z" p-id="2119"></path><path d="M511.150144 202.334241c-247.586888 0-448.173322 137.991818-448.173322 308.156382 0 170.219823 200.586434 308.21471 448.173322 308.21471 247.533676 0 448.229604-137.995911 448.229604-308.21471C959.378725 340.326059 758.68382 202.334241 511.150144 202.334241zM511.150144 762.678296c-216.617549 0-392.256802-112.88193-392.256802-252.186649 0-139.195226 175.639253-252.127298 392.256802-252.127298 216.565361 0 392.201543 112.932072 392.201543 252.127298C903.350664 649.796366 727.715505 762.678296 511.150144 762.678296z" p-id="2120"></path></svg>
    <svg t="1576745299692" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
      p-id="2656" width="200" height="200">
      <path
        d="M515.2 224C208 224 22.4 537.6 22.4 537.6s214.4 304 492.8 304 492.8-304 492.8-304S822.4 224 515.2 224zM832 652.8c-102.4 86.4-211.2 140.8-320 140.8s-217.6-51.2-320-140.8c-35.2-32-70.4-64-99.2-99.2-6.4-6.4-9.6-12.8-16-19.2 3.2-6.4 9.6-12.8 12.8-19.2 25.6-35.2 57.6-70.4 92.8-102.4 99.2-89.6 208-144 329.6-144s230.4 54.4 329.6 144c35.2 32 64 67.2 92.8 102.4 3.2 6.4 9.6 12.8 12.8 19.2-3.2 6.4-9.6 12.8-16 19.2-28.8 32-60.8 67.2-99.2 99.2z"
        fill="" p-id="2657"></path>
      <path
        d="M512 345.6c-96 0-169.6 76.8-169.6 169.6 0 96 76.8 169.6 169.6 169.6 96 0 169.6-76.8 169.6-169.6S604.8 345.6 512 345.6z m0 294.4c-67.2 0-121.6-54.4-121.6-121.6 0-67.2 54.4-121.6 121.6-121.6 67.2 0 121.6 54.4 121.6 121.6 0 64-54.4 121.6-121.6 121.6z"
        fill="" p-id="2658"></path>
    </svg>
  </div>
  <script src="./canvg.js"></script>
  <script>
    window.onload = () => {
      let box = document.querySelector('#box')

      const fixSvg = dom => {
        let svgElem = dom.querySelectorAll('svg')
        //以下是对svg的处理
        let nodesToRecover = [];
        let nodesToRemove = [];
        svgElem.forEach(function (node, index) {
          let parentNode = node.parentNode;
          let svg = node.outerHTML.trim();

          let canvas = document.createElement('canvas');
          canvg(canvas, svg);
          if (node.style.position) {
            canvas.style.position += node.style.position;
            canvas.style.left += node.style.left;
            canvas.style.top += node.style.top;
          }

          nodesToRecover.push({
            parent: parentNode,
            child: node
          });
          parentNode.removeChild(node);

          nodesToRemove.push({
            parent: parentNode,
            child: canvas
          });

          parentNode.appendChild(canvas);
        });

      }

      fixSvg(box)
    };

  </script>
</body>

</html>